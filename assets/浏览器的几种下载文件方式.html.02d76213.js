import{e as s}from"./app.06e41ebd.js";import{_ as a}from"./plugin-vue_export-helper.21dcd24c.js";const n={},l=s(`<h2 id="form\u8868\u5355\u63D0\u4EA4\u4E0B\u8F7D-\u6DD8\u6C70" tabindex="-1"><a class="header-anchor" href="#form\u8868\u5355\u63D0\u4EA4\u4E0B\u8F7D-\u6DD8\u6C70" aria-hidden="true">#</a> form\u8868\u5355\u63D0\u4EA4\u4E0B\u8F7D\uFF08\u6DD8\u6C70\uFF09</h2><p>\u901A\u8FC7\u521B\u5EFA\u4E00\u4E2Aform\u5143\u7D20\u6765\u63D0\u4EA4\u8868\u5355\u53D1\u8D77\u4E00\u4E2A\u8BF7\u6C42\u4ECE\u800C\u5B9E\u73B0\u4E0B\u8F7D\u3002</p><h2 id="window-open-\u6216location-href\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#window-open-\u6216location-href\u4E0B\u8F7D" aria-hidden="true">#</a> window.open()\u6216location.href\u4E0B\u8F7D</h2><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#d8dee9ff;">window.open(&#39;downloadFile.zip&#39;);</span></span>
<span class="line"><span style="color:#d8dee9ff;"></span></span>
<span class="line"><span style="color:#d8dee9ff;">location.href = &#39;downloadFile.zip&#39;;</span></span>
<span class="line"><span style="color:#d8dee9ff;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h3 id="\u7F3A\u70B9" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u70B9" aria-hidden="true">#</a> \u7F3A\u70B9</h3><ul><li>\u4F1A\u51FA\u73B0URL\u957F\u5EA6\u9650\u5236</li><li>\u6D4F\u89C8\u5668\u53EF\u76F4\u63A5\u6D4F\u89C8\u7684\u6587\u4EF6\u7C7B\u578B\u4E0D\u80FD\u4E0B\u8F7D\uFF0C\u5982txt\u3001png\u3001jpg\u3001gif\u7B49</li><li>\u4E0D\u80FD\u6DFB\u52A0header\uFF0C\u4E0D\u80FD\u8FDB\u884C\u9274\u6743</li><li>\u65E0\u6CD5\u77E5\u9053\u4E0B\u8F7D\u7684\u8FDB\u5EA6</li></ul><h2 id="a\u6807\u7B7E\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#a\u6807\u7B7E\u4E0B\u8F7D" aria-hidden="true">#</a> a\u6807\u7B7E\u4E0B\u8F7D</h2><div class="language-html ext-html line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">&lt;a</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">href</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">example.jpg</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;"> </span><span style="color:#8FBCBB;">download</span><span style="color:#ECEFF4;">=</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">xxx.jpg</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">&gt;</span><span style="color:#D8DEE9FF;">\u70B9\u51FB\u4E0B\u8F7D</span><span style="color:#81A1C1;">&lt;/a&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="\u4F18\u70B9" tabindex="-1"><a class="header-anchor" href="#\u4F18\u70B9" aria-hidden="true">#</a> \u4F18\u70B9</h3><ul><li>\u80FD\u89E3\u51B3\u4E0D\u80FD\u76F4\u63A5\u4E0B\u8F7D\u6D4F\u89C8\u5668\u53EF\u6D4F\u89C8\u7684\u6587\u4EF6</li><li>\u652F\u6301blob URL\u3001base64</li></ul><h3 id="\u7F3A\u70B9-1" tabindex="-1"><a class="header-anchor" href="#\u7F3A\u70B9-1" aria-hidden="true">#</a> \u7F3A\u70B9</h3><ul><li>\u65E0\u6CD5\u8DE8\u57DF\u4E0B\u8F7D</li><li>\u4E0D\u80FD\u8FDB\u884C\u9274\u6743</li></ul><h2 id="xhr\u8BF7\u6C42\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#xhr\u8BF7\u6C42\u4E0B\u8F7D" aria-hidden="true">#</a> xhr\u8BF7\u6C42\u4E0B\u8F7D</h2><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#616E88;">/**</span></span>
<span class="line"><span style="color:#616E88;"> * \u4E0B\u8F7D\u6587\u4EF6</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#8FBCBB;">param</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#616E88;">String</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#D8DEE9;">path</span><span style="color:#616E88;"> - \u4E0B\u8F7D\u5730\u5740/\u4E0B\u8F7D\u8BF7\u6C42\u5730\u5740\u3002</span></span>
<span class="line"><span style="color:#616E88;"> * </span><span style="color:#ECEFF4;">@</span><span style="color:#8FBCBB;">param</span><span style="color:#616E88;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#616E88;">String</span><span style="color:#ECEFF4;">}</span><span style="color:#616E88;"> </span><span style="color:#D8DEE9;">name</span><span style="color:#616E88;"> - \u4E0B\u8F7D\u6587\u4EF6\u7684\u540D\u5B57\uFF08\u8003\u8651\u5230\u517C\u5BB9\u6027\u95EE\u9898\uFF0C\u6700\u597D\u52A0\u4E0A\u540E\u7F00\u540D\uFF09</span></span>
<span class="line"><span style="color:#616E88;"> */</span></span>
<span class="line"><span style="color:#88C0D0;">downloadFile</span><span style="color:#D8DEE9FF;"> (</span><span style="color:#D8DEE9;">path</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">name</span><span style="color:#D8DEE9FF;">) </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">xhr</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">new</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">XMLHttpRequest</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#D8DEE9;">xhr</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">open</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">get</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">path</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#D8DEE9;">xhr</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">responseType</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">blob</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#D8DEE9;">xhr</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">send</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#D8DEE9;">xhr</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">onload</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">function</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">()</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">        </span><span style="color:#81A1C1;">if</span><span style="color:#D8DEE9FF;"> (</span><span style="color:#81A1C1;">this</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">status</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">===</span><span style="color:#D8DEE9FF;"> </span><span style="color:#B48EAD;">200</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">||</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">this</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">status</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">===</span><span style="color:#D8DEE9FF;"> </span><span style="color:#B48EAD;">304</span><span style="color:#D8DEE9FF;">) </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">fileReader</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">new</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">FileReader</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#D8DEE9;">fileReader</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">readAsDataURL</span><span style="color:#D8DEE9FF;">(</span><span style="color:#81A1C1;">this</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">response</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#D8DEE9;">fileReader</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">onload</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">function</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">()</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">a</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">document</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">createElement</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">a</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#D8DEE9;">a</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">style</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">display</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&#39;</span><span style="color:#A3BE8C;">none</span><span style="color:#ECEFF4;">&#39;</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#D8DEE9;">a</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">href</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">this</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">result</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#D8DEE9;">a</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">download</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">name</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#D8DEE9;">document</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">body</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">appendChild</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">a</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#D8DEE9;">a</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">click</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">                </span><span style="color:#D8DEE9;">document</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">body</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">removeChild</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">a</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">            </span><span style="color:#ECEFF4;">}</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">        </span><span style="color:#ECEFF4;">}</span></span>
<span class="line"><span style="color:#D8DEE9FF;">    </span><span style="color:#ECEFF4;">}</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><h3 id="\u4F18\u70B9-1" tabindex="-1"><a class="header-anchor" href="#\u4F18\u70B9-1" aria-hidden="true">#</a> \u4F18\u70B9</h3><ul><li>\u652F\u6301\u975E\u540C\u6E90\u56FE\u7247</li><li>\u652F\u6301\u9274\u6743</li></ul><h2 id="blob\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#blob\u4E0B\u8F7D" aria-hidden="true">#</a> blob\u4E0B\u8F7D</h2><p>\u901A\u8FC7<code>URL.createObjectURL()</code>\u521B\u5EFAobject url\uFF0C\u518D\u901A\u8FC7a\u6807\u7B7E\u4E0B\u8F7D\u3002</p><h2 id="base64\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#base64\u4E0B\u8F7D" aria-hidden="true">#</a> base64\u4E0B\u8F7D</h2><p>\u4F7F\u7528<code>FileReader()</code>\u5C06Blob\u6216\u8005File\u8F6C\u6210base64\uFF0C\u518D\u901A\u8FC7a\u6807\u7B7E\u8FDB\u884C\u4E0B\u8F7D\u3002</p><h2 id="filesaver" tabindex="-1"><a class="header-anchor" href="#filesaver" aria-hidden="true">#</a> FileSaver</h2><p>\u63D0\u4F9B\u652F\u6301url\uFF0Cblob\uFF0Cfile\u7684\u683C\u5F0F\u4E0B\u8F7D\u3002</p><h3 id="\u4F18\u70B9-2" tabindex="-1"><a class="header-anchor" href="#\u4F18\u70B9-2" aria-hidden="true">#</a> \u4F18\u70B9</h3><ul><li>\u652F\u6301\u975E\u540C\u6E90\u7684URL\uFF0C\u524D\u63D0\u662F\u6709\u63D0\u4F9B<code>Access-control-allow-origin</code>\u5934\u90E8</li></ul><h2 id="canvas\u753B\u5E03\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#canvas\u753B\u5E03\u4E0B\u8F7D" aria-hidden="true">#</a> canvas\u753B\u5E03\u4E0B\u8F7D</h2><p>\u4E0B\u8F7Durl\u7684\u56FE\u7247\uFF0C\u7136\u540E\u653E\u5230canvas\u4E2D\uFF0C\u518D\u8C03\u7528toBlob()\u6216\u8005toDataURL()\u8F6C\u6210blob\u6216base64\uFF0C\u518D\u901A\u8FC7a\u6807\u7B7E\u8FDB\u884C\u4E0B\u8F7D\u3002</p><p>\u652F\u6301\u975E\u540C\u6E90\u56FE\u7247</p><h2 id="\u9644\u4EF6\u5F62\u5F0F\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u9644\u4EF6\u5F62\u5F0F\u4E0B\u8F7D" aria-hidden="true">#</a> \u9644\u4EF6\u5F62\u5F0F\u4E0B\u8F7D</h2><p><code>Content-Disposition: attachment; filename=&quot;mouth.png&quot;</code></p><h2 id="range\u8303\u56F4\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#range\u8303\u56F4\u4E0B\u8F7D" aria-hidden="true">#</a> Range\u8303\u56F4\u4E0B\u8F7D</h2><p><code>Range</code>\u8BF7\u6C42\u5934</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#d8dee9ff;">Range: &lt;unit&gt;=&lt;range-start&gt;-</span></span>
<span class="line"><span style="color:#d8dee9ff;">Range: &lt;unit&gt;=&lt;range-start&gt;-&lt;range-end&gt;</span></span>
<span class="line"><span style="color:#d8dee9ff;">Range: &lt;unit&gt;=&lt;range-start&gt;-&lt;range-end&gt;, &lt;range-start&gt;-&lt;range-end&gt;</span></span>
<span class="line"><span style="color:#d8dee9ff;">Range: &lt;unit&gt;=&lt;range-start&gt;-&lt;range-end&gt;, &lt;range-start&gt;-&lt;range-end&gt;, &lt;range-start&gt;-&lt;range-end&gt;</span></span>
<span class="line"><span style="color:#d8dee9ff;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>unit</code>\uFF1A\u8303\u56F4\u8BF7\u6C42\u6240\u91C7\u7528\u7684\u5355\u4F4D\uFF0C\u901A\u5E38\u662F\u5B57\u8282\uFF08bytes\uFF09\u3002</p><p><code>&lt;range-start&gt;</code>\uFF1A\u4E00\u4E2A\u6574\u6570\uFF0C\u8868\u793A\u5728\u7279\u5B9A\u5355\u4F4D\u4E0B\uFF0C\u8303\u56F4\u7684\u8D77\u59CB\u503C\u3002</p><p><code>&lt;range-end&gt;</code>\uFF1A\u4E00\u4E2A\u6574\u6570\uFF0C\u8868\u793A\u5728\u7279\u5B9A\u5355\u4F4D\u4E0B\uFF0C\u8303\u56F4\u7684\u7ED3\u675F\u503C\u3002<strong>\u8FD9\u4E2A\u503C\u662F\u53EF\u9009\u7684\uFF0C\u5982\u679C\u4E0D\u5B58\u5728\uFF0C\u8868\u793A\u6B64\u8303\u56F4\u4E00\u76F4\u5EF6\u4F38\u5230\u6587\u6863\u7ED3\u675F\u3002</strong></p><h2 id="\u5927\u6587\u4EF6\u5206\u5757\u5E76\u53D1\u4E0B\u8F7D" tabindex="-1"><a class="header-anchor" href="#\u5927\u6587\u4EF6\u5206\u5757\u5E76\u53D1\u4E0B\u8F7D" aria-hidden="true">#</a> \u5927\u6587\u4EF6\u5206\u5757\u5E76\u53D1\u4E0B\u8F7D</h2><p>\u5229\u7528Range\u8BF7\u6C42\u5934</p><p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/b89d6b73ddca476ab8391afa7d11f238~tplv-k3u1fbpfcp-watermark.awebp" alt="123"></p>`,38);function p(e,o){return l}var c=a(n,[["render",p]]);export{c as default};
