<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/578220.jpg"><title>Data协议 | Leon Chen</title><meta name="description" content="">
    <link rel="modulepreload" href="/blogs/assets/app.7d2acf8d.js"><link rel="modulepreload" href="/blogs/assets/data协议，file协议，blob协议.html.f663e4e3.js"><link rel="modulepreload" href="/blogs/assets/data协议，file协议，blob协议.html.d0422eed.js"><link rel="modulepreload" href="/blogs/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/blogs/assets/style.fa95e7d7.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blogs/" class=""><img class="logo" src="/blogs/images/578220.jpg" alt="Leon Chen"><span class="site-name can-hide">Leon Chen</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blogs/program" class="" aria-label="编程"><!--[--><!--]--> 编程 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/promote" class="" aria-label="课外提升"><!--[--><!--]--> 课外提升 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/questions" class="router-link-active" aria-label="疑问清单"><!--[--><!--]--> 疑问清单 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blogs/program" class="" aria-label="编程"><!--[--><!--]--> 编程 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/promote" class="" aria-label="课外提升"><!--[--><!--]--> 课外提升 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/questions" class="router-link-active" aria-label="疑问清单"><!--[--><!--]--> 疑问清单 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading">Data协议 <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#定义" class="router-link-active router-link-exact-active sidebar-item" aria-label="定义"><!--[--><!--]--> 定义 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#常见问题" class="router-link-active router-link-exact-active sidebar-item" aria-label="常见问题"><!--[--><!--]--> 常见问题 <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#语法" class="router-link-active router-link-exact-active sidebar-item" aria-label="语法"><!--[--><!--]--> 语法 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#html代码格式化" class="router-link-active router-link-exact-active sidebar-item" aria-label="HTML代码格式化"><!--[--><!--]--> HTML代码格式化 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#长度限制" class="router-link-active router-link-exact-active sidebar-item" aria-label="长度限制"><!--[--><!--]--> 长度限制 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#缺乏错误处理" class="router-link-active router-link-exact-active sidebar-item" aria-label="缺乏错误处理"><!--[--><!--]--> 缺乏错误处理 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#不支持查询字符串" class="router-link-active router-link-exact-active sidebar-item" aria-label="不支持查询字符串"><!--[--><!--]--> 不支持查询字符串 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#url中为什么本地文件file后面跟三个斜杠-http等协议跟两个斜杠" class="router-link-active router-link-exact-active sidebar-item" aria-label="URL中为什么本地文件file后面跟三个斜杠, http等协议跟两个斜杠?"><!--[--><!--]--> URL中为什么本地文件file后面跟三个斜杠, http等协议跟两个斜杠? <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Brower/data%E5%8D%8F%E8%AE%AE%EF%BC%8Cfile%E5%8D%8F%E8%AE%AE%EF%BC%8Cblob%E5%8D%8F%E8%AE%AE.html#浏览器通过file-访问文件和http-访问文件的区别" class="router-link-active router-link-exact-active sidebar-item" aria-label="浏览器通过file:///访问文件和http://访问文件的区别"><!--[--><!--]--> 浏览器通过file:///访问文件和http://访问文件的区别 <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h1 id="data协议" tabindex="-1"><a class="header-anchor" href="#data协议" aria-hidden="true">#</a> Data协议</h1><h2 id="定义" tabindex="-1"><a class="header-anchor" href="#定义" aria-hidden="true">#</a> 定义</h2><p><strong>Data URLs</strong>，即前缀为 <code>data:</code> 协议的URL，其允许内容创建者向文档中嵌入小文件。</p><p>Data URLs 由四个部分组成：前缀(<code>data:</code>)、指示数据类型的MIME类型、如果非文本则为可选的<code>base64</code>标记、数据本身：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#d8dee9ff;">data:[&lt;mediatype&gt;][;base64],&lt;data&gt;</span></span>
<span class="line"><span style="color:#d8dee9ff;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p><code>mediatype</code> 是个 MIME 类型的字符串，例如 &quot;image/jpeg&quot; 表示 JPEG 图像文件。如果被省略，则默认值为<code>text/plain;charset=US-ASCII</code>。</p><p>如果数据是文本类型，你可以直接将文本嵌入 (根据文档类型，使用合适的实体字符或转义字符)。如果是二进制数据，你可以将数据进行base64编码之后再进行嵌入。</p><p>下面是一些示例：</p><ul><li><p><code>data:,Hello%2C%20World!</code></p><p>简单的 text/plain 类型数据</p></li><li><p><code>data:text/plain;base64,SGVsbG8sIFdvcmxkIQ%3D%3D</code></p><p>上一条示例的 base64 编码版本</p></li><li><p><code>data:text/html,%3Ch1%3EHello%2C%20World!%3C%2Fh1%3E</code></p><p>一个HTML文档源代码 <code>&lt;h1&gt;Hello, World&lt;/h1&gt;</code></p></li><li><p><code>data:text/html,&lt;script&gt;alert(&#39;hi&#39;);&lt;/script&gt;</code></p><p>一个会执行 JavaScript alert 的 HTML 文档。注意 script 标签必须封闭。</p></li></ul><h2 id="常见问题" tabindex="-1"><a class="header-anchor" href="#常见问题" aria-hidden="true">#</a> 常见问题</h2><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法" aria-hidden="true">#</a> 语法</h3><p><code>data</code> URLs 的格式很简单，但很容易会忘记把逗号加在 &quot;data&quot; 协议名后面，在对数据进行 base64 编码时也很容易发生错误。</p><h3 id="html代码格式化" tabindex="-1"><a class="header-anchor" href="#html代码格式化" aria-hidden="true">#</a> HTML代码格式化</h3><p>一个 <code>data</code> URL 是一个文件中的文件，相对于文档来说这个文件可能就非常的长。因为 data URL 也是 URL，所以 data 会用空白符(换行符, 制表符, 空格)来对它进行格式化。但如果数据是经过 base64 编码的，就可能会<a href="https://bugzilla.mozilla.org/show_bug.cgi?id=73026#c12" target="_blank" rel="noopener noreferrer">遇到一些问题<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a>。</p><h3 id="长度限制" tabindex="-1"><a class="header-anchor" href="#长度限制" aria-hidden="true">#</a> 长度限制</h3><p>有些浏览器支持无限制长度的url，比如FireFox，而有些浏览器对url做了限制，比如Opera 11浏览器限制 URLs 最长为 65535 个字符，这意味着 data URLs 最长为 65529 个字符。</p><h3 id="缺乏错误处理" tabindex="-1"><a class="header-anchor" href="#缺乏错误处理" aria-hidden="true">#</a> 缺乏错误处理</h3><p>MIME类型错误或者base64编码错误，都会造成data URL无法被正常解析，但却没有任何相关提示。</p><h3 id="不支持查询字符串" tabindex="-1"><a class="header-anchor" href="#不支持查询字符串" aria-hidden="true">#</a> 不支持查询字符串</h3><p>一个data URL的数据字段是没有结束标记的，所以尝试在一个data URL后面添加查询字符串会导致查询字符串被当做数据字段。</p><h1 id="file协议" tabindex="-1"><a class="header-anchor" href="#file协议" aria-hidden="true">#</a> File协议</h1><p>File协议也叫本地文件传输协议，主要用于访问本地计算机的文件</p><p>基本格式：<code>file:///文件路径</code>。</p><h2 id="url中为什么本地文件file后面跟三个斜杠-http等协议跟两个斜杠" tabindex="-1"><a class="header-anchor" href="#url中为什么本地文件file后面跟三个斜杠-http等协议跟两个斜杠" aria-hidden="true">#</a> URL中为什么本地文件file后面跟三个斜杠, http等协议跟两个斜杠?</h2><ul><li>因为URL结构是： &lt;协议&gt;://&lt;主机&gt;:&lt;端口&gt;/&lt;路径&gt;</li><li>如果有主机，前面是要加 // 的，因此对于 http等这些网络地址是<a href="https://links.jianshu.com/go?to=http%3A%2F%2F127.0.0.1%3A5500%2Fbigwatermelon%2Findex.html" target="_blank" rel="noopener noreferrer">http://127.0.0.1:5500/bigwatermelon/index.html<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></li><li>如果是文件，文件没有主机，所以中间的部分就不要了，就变成了file:///D:/mywebproject/bigwatermelon/index.html</li></ul><h2 id="浏览器通过file-访问文件和http-访问文件的区别" tabindex="-1"><a class="header-anchor" href="#浏览器通过file-访问文件和http-访问文件的区别" aria-hidden="true">#</a> 浏览器通过file:///访问文件和http://访问文件的区别</h2><ul><li>file协议只能在本地访问，file<strong>无法实现跨域</strong>，file协议对应有一个类似http的远程访问，就是ftp协议，即文件传输协议。本地搭建http服务器开放端口后他人也可以通过http访问到你电脑中的文件，但是file协议做不到。</li><li>http访问本地的html文件，相当于将本机作为了一台http服务器，然后通过主机访问的是你自己电脑上的本地服务器，再通过http服务器去访问你本机的文件资源。断网就打不开了。</li><li>file只是简单请求了本地文件，将其作为一个服务器未解析的静态文件打开，断网也可以打开。而http是在本地搭建了一个服务器再通过服务器去动态解析拿到文件。</li></ul><h1 id="blob协议" tabindex="-1"><a class="header-anchor" href="#blob协议" aria-hidden="true">#</a> Blob协议</h1><p>Blob URL/Object URL 是一种伪协议，允许 Blob 和 File 对象用作图像，下载二进制数据链接等的 URL 源。在浏览器中，我们使用 <code>URL.createObjectURL</code> 方法来创建 Blob URL，该方法接收一个 <code>Blob</code> 对象，并为其创建一个唯一的 URL，其形式为 <code>blob:&lt;origin&gt;/&lt;uuid&gt;</code>，对应的示例如下：</p><div class="language-text ext-text line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#d8dee9ff;">blob:https://example.org/40a5fb5a-d56d-4a33-b4e2-0acf6a8e5f641</span></span>
<span class="line"><span style="color:#d8dee9ff;"></span></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><p>浏览器内部为每个通过 <code>URL.createObjectURL</code> 生成的 URL 存储了一个 URL → Blob 映射。因此，此类 URL 较短，但可以访问 <code>Blob</code>。生成的 URL 仅在当前文档打开的状态下才有效。它允许引用 <code>&lt;img&gt;</code>、<code>&lt;a&gt;</code> 中的 <code>Blob</code>，但如果你访问的 Blob URL 不再存在，则会从浏览器中收到 404 错误。</p><p>上述的 Blob URL 看似很不错，但实际上它也有副作用。虽然存储了 URL → Blob 的映射，但 Blob 本身仍驻留在内存中，浏览器无法释放它。映射在文档卸载时自动清除，因此 Blob 对象随后被释放。但是，如果应用程序寿命很长，那不会很快发生。因此，如果我们创建一个 Blob URL，即使不再需要该 Blob，它也会存在内存中。</p><p>针对这个问题，我们可以调用 <code>URL.revokeObjectURL(url)</code> 方法，从内部映射中删除引用，从而允许删除 Blob（如果没有其他引用），并释放内存。</p><div class="language-javascript ext-js line-numbers-mode"><pre class="shiki" style="background-color:#2e3440ff;"><code><span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">download</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">(</span><span style="color:#D8DEE9;">fileName</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">blob</span><span style="color:#ECEFF4;">)</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=&gt;</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">link</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">document</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">createElement</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">a</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#D8DEE9;">link</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">href</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">URL</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">createObjectURL</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">blob</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#D8DEE9;">link</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">download</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">fileName</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#D8DEE9;">link</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">click</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#D8DEE9;">link</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">remove</span><span style="color:#D8DEE9FF;">()</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#D8DEE9;">URL</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">revokeObjectURL</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">link</span><span style="color:#ECEFF4;">.</span><span style="color:#D8DEE9;">href</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span><span style="color:#81A1C1;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">downloadBtn</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">document</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">querySelector</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">#downloadBtn</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9;">downloadBtn</span><span style="color:#ECEFF4;">.</span><span style="color:#88C0D0;">addEventListener</span><span style="color:#D8DEE9FF;">(</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">click</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">(</span><span style="color:#D8DEE9;">event</span><span style="color:#ECEFF4;">)</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=&gt;</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">fileName</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">blob.txt</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#81A1C1;">const</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">myBlob</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">=</span><span style="color:#D8DEE9FF;"> </span><span style="color:#81A1C1;">new</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">Blob</span><span style="color:#D8DEE9FF;">([</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">一文彻底掌握 Blob Web API</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;">]</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">{</span><span style="color:#D8DEE9FF;"> </span><span style="color:#88C0D0;">type</span><span style="color:#ECEFF4;">:</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">&quot;</span><span style="color:#A3BE8C;">text/plain</span><span style="color:#ECEFF4;">&quot;</span><span style="color:#D8DEE9FF;"> </span><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#D8DEE9FF;">  </span><span style="color:#88C0D0;">download</span><span style="color:#D8DEE9FF;">(</span><span style="color:#D8DEE9;">fileName</span><span style="color:#ECEFF4;">,</span><span style="color:#D8DEE9FF;"> </span><span style="color:#D8DEE9;">myBlob</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"><span style="color:#ECEFF4;">}</span><span style="color:#D8DEE9FF;">)</span><span style="color:#81A1C1;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: czl624824554@163.com">chenzilin</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blogs/assets/app.7d2acf8d.js" defer></script>
  </body>
</html>
