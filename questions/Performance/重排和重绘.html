<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.36">
    <style>
      :root {
        --c-bg: #fff;
      }
      html.dark {
        --c-bg: #22272e;
      }
      html, body {
        background-color: var(--c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme');
			const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
			if (userMode === 'dark' || (userMode !== 'light' && systemDarkMode)) {
				document.documentElement.classList.toggle('dark', true);
			}
    </script>
    <link rel="icon" href="/images/578220.jpg"><title>Leon Chen</title><meta name="description" content="">
    <link rel="modulepreload" href="/blogs/assets/app.7d2acf8d.js"><link rel="modulepreload" href="/blogs/assets/重排和重绘.html.f9ecac57.js"><link rel="modulepreload" href="/blogs/assets/重排和重绘.html.a6127a18.js"><link rel="modulepreload" href="/blogs/assets/plugin-vue_export-helper.21dcd24c.js">
    <link rel="stylesheet" href="/blogs/assets/style.fa95e7d7.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><!--[--><header ref_key="navbar" class="navbar"><div class="toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a href="/blogs/" class=""><img class="logo" src="/blogs/images/578220.jpg" alt="Leon Chen"><span class="site-name can-hide">Leon Chen</span></a></span><div class="navbar-items-wrapper" style=""><!--[--><!--]--><nav class="navbar-items can-hide"><!--[--><div class="navbar-item"><a href="/blogs/program" class="" aria-label="编程"><!--[--><!--]--> 编程 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/promote" class="" aria-label="课外提升"><!--[--><!--]--> 课外提升 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/questions" class="router-link-active" aria-label="疑问清单"><!--[--><!--]--> 疑问清单 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><button class="toggle-dark-button" title="toggle dark mode"><svg style="" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg style="display:none;" class="icon" focusable="false" viewBox="0 0 32 32"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div></header><!--]--><div class="sidebar-mask"></div><!--[--><aside class="sidebar"><nav class="navbar-items"><!--[--><div class="navbar-item"><a href="/blogs/program" class="" aria-label="编程"><!--[--><!--]--> 编程 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/promote" class="" aria-label="课外提升"><!--[--><!--]--> 课外提升 <!--[--><!--]--></a></div><div class="navbar-item"><a href="/blogs/questions" class="router-link-active" aria-label="疑问清单"><!--[--><!--]--> 疑问清单 <!--[--><!--]--></a></div><!--]--></nav><!--[--><!--]--><ul class="sidebar-items"><!--[--><li><p tabindex="0" class="sidebar-item sidebar-heading"> <!----></p><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#网页的生成过程-大致可以分成五步。" class="router-link-active router-link-exact-active sidebar-item" aria-label="网页的生成过程，大致可以分成五步。"><!--[--><!--]--> 网页的生成过程，大致可以分成五步。 <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#重排-reflow" class="router-link-active router-link-exact-active sidebar-item" aria-label="重排(reflow)："><!--[--><!--]--> 重排(reflow)： <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#概念" class="router-link-active router-link-exact-active sidebar-item" aria-label="概念："><!--[--><!--]--> 概念： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#下面情况会发生重排" class="router-link-active router-link-exact-active sidebar-item" aria-label="下面情况会发生重排："><!--[--><!--]--> 下面情况会发生重排： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#重排影响的范围" class="router-link-active router-link-exact-active sidebar-item" aria-label="重排影响的范围："><!--[--><!--]--> 重排影响的范围： <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#重绘-repaints" class="router-link-active router-link-exact-active sidebar-item" aria-label="重绘(Repaints):"><!--[--><!--]--> 重绘(Repaints): <!--[--><!--]--></a><!--[--><ul style="" class="sidebar-item-children"><!--[--><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#概念-1" class="router-link-active router-link-exact-active sidebar-item" aria-label="概念："><!--[--><!--]--> 概念： <!--[--><!--]--></a><!----></li><li><a aria-current="page" href="/blogs/questions/Performance/%E9%87%8D%E6%8E%92%E5%92%8C%E9%87%8D%E7%BB%98.html#常见的引起重绘的属性" class="router-link-active router-link-exact-active sidebar-item" aria-label="常见的引起重绘的属性："><!--[--><!--]--> 常见的引起重绘的属性： <!--[--><!--]--></a><!----></li><!--]--></ul><!--]--></li><!--]--></ul><!--]--></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="page"><!--[--><!--]--><div class="theme-default-content"><!--[--><h2 id="网页的生成过程-大致可以分成五步。" tabindex="-1"><a class="header-anchor" href="#网页的生成过程-大致可以分成五步。" aria-hidden="true">#</a> 网页的生成过程，大致可以分成五步。</h2><ul><li>HTML代码转化成DOM</li><li>CSS代码转化成CSSOM（CSS Object Model）</li><li>结合DOM和CSSOM，生成一棵渲染树（包含每个节点的视觉信息）</li><li>生成布局（layout），即将所有渲染树的所有节点进行平面合成</li><li>将布局绘制（paint）在屏幕上</li><li>合成（compose）</li></ul><p><img src="https://images-1256612942.cos.ap-guangzhou.myqcloud.com/2022_03_09_7320A250-B2F5-4D33-A0E2-37689F03E57D.png" alt="2022_03_09_7320A250-B2F5-4D33-A0E2-37689F03E57D"></p><h2 id="重排-reflow" tabindex="-1"><a class="header-anchor" href="#重排-reflow" aria-hidden="true">#</a> 重排(reflow)：</h2><h3 id="概念" tabindex="-1"><a class="header-anchor" href="#概念" aria-hidden="true">#</a> 概念：</h3><p>当DOM的变化影响了元素的几何信息(元素的的位置和尺寸大小)，浏览器需要重新计算元素的几何属性，将其安放在界面中的正确位置，这个过程叫做重排。</p><p>重排也叫回流，简单的说就是重新生成布局，重新排列元素。</p><p>重排会导致重绘，重绘不一定会导致重排。</p><h3 id="下面情况会发生重排" tabindex="-1"><a class="header-anchor" href="#下面情况会发生重排" aria-hidden="true">#</a> 下面情况会发生重排：</h3><ul><li>页面初始渲染，这是开销最大的一次重排</li><li>添加/删除可见的DOM元素</li><li>改变元素位置</li><li>改变元素尺寸，比如边距、填充、边框、宽度和高度等</li><li>改变元素内容，比如文字数量，图片大小等</li><li>改变元素字体大小</li><li>改变浏览器窗口尺寸，比如resize事件发生时</li><li>激活CSS伪类（例如：:hover）</li><li>设置 style 属性的值，因为通过设置style属性改变结点样式的话，每一次设置都会触发一次reflow</li><li>查询某些属性或调用某些计算方法：offsetWidth、offsetHeight等，除此之外，当我们调用 getComputedStyle方法，或者IE里的 currentStyle 时，也会触发重排，原理是一样的，都为求一个“即时性”和“准确性”。</li></ul><table><thead><tr><th>常见引起重排属性和方法</th><th>--</th><th>--</th><th>--</th></tr></thead><tbody><tr><td>width</td><td>height</td><td>margin</td><td>padding</td></tr><tr><td>display</td><td>border-width</td><td>border</td><td>position</td></tr><tr><td>overflow</td><td>font-size</td><td>vertical-align</td><td>min-height</td></tr><tr><td>clientWidth</td><td>clientHeight</td><td>clientTop</td><td>clientLeft</td></tr><tr><td>offsetWudth</td><td>offsetHeight</td><td>offsetTop</td><td>offsetLeft</td></tr><tr><td>scrollWidth</td><td>scrollHeight</td><td>scrollTop</td><td>scrollLeft</td></tr><tr><td>scrollIntoView()</td><td>scrollTo()</td><td>getComputedStyle()</td><td></td></tr><tr><td>getBoundingClientRect()</td><td>scrollIntoViewIfNeeded()</td><td></td><td></td></tr></tbody></table><h3 id="重排影响的范围" tabindex="-1"><a class="header-anchor" href="#重排影响的范围" aria-hidden="true">#</a> 重排影响的范围：</h3><p>由于浏览器渲染界面是基于流失布局模型的，所以触发重排时会对周围DOM重新排列，影响的范围有两种：</p><ul><li>全局范围：从根节点html开始对整个渲染树进行重新布局。</li><li>局部范围：对渲染树的某部分或某一个渲染对象进行重新布局</li></ul><h2 id="重绘-repaints" tabindex="-1"><a class="header-anchor" href="#重绘-repaints" aria-hidden="true">#</a> 重绘(Repaints):</h2><h3 id="概念-1" tabindex="-1"><a class="header-anchor" href="#概念-1" aria-hidden="true">#</a> 概念：</h3><p>当一个元素的外观发生改变，但没有改变布局,重新把元素外观绘制出来的过程，叫做重绘。</p><h3 id="常见的引起重绘的属性" tabindex="-1"><a class="header-anchor" href="#常见的引起重绘的属性" aria-hidden="true">#</a> 常见的引起重绘的属性：</h3><table><thead><tr><th>属性：</th><th>--</th><th>--</th><th>--</th></tr></thead><tbody><tr><td>color</td><td>border-style</td><td>visibility</td><td>background</td></tr><tr><td>text-decoration</td><td>background-image</td><td>background-position</td><td>background-repeat</td></tr><tr><td>outline-color</td><td>outline</td><td>outline-style</td><td>border-radius</td></tr><tr><td>outline-width</td><td>box-shadow</td><td>background-size</td><td></td></tr></tbody></table><p><img src="https://images-1256612942.cos.ap-guangzhou.myqcloud.com/2022_03_09_B0698B0D-419E-41DE-806A-59349980747E.png" alt="2022_03_09_B0698B0D-419E-41DE-806A-59349980747E"></p><p><img src="https://images-1256612942.cos.ap-guangzhou.myqcloud.com/2022_03_28_A1D5E0E1-A5D7-4250-B733-388A4B53AA13.png" alt="2022_03_28_A1D5E0E1-A5D7-4250-B733-388A4B53AA13"></p><!--]--></div><footer class="page-meta"><!----><div class="meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: czl624824554@163.com">chenzilin</span><!----><!--]--><!--]--></span></div></footer><!----><!--[--><!--]--></main><!--]--></div><!----><!--]--></div>
    <script type="module" src="/blogs/assets/app.7d2acf8d.js" defer></script>
  </body>
</html>
